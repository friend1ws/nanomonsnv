sudo: false

language: python

python:
    - "3.7"

before_script:
    - wget https://github.com/samtools/samtools/releases/download/1.9/samtools-1.9.tar.bz2
    - tar jxvf samtools-1.9.tar.bz2
    - cd samtools-1.9/htslib-1.9 && ./configure && make && sudo make install 
    - cd ../ && ./configure --without-curses && make && sudo make install && cd ../

    - pip install requests
    - pip install scipy==1.1.0
    - pip install statistics==1.0.3.5
    - pip install pysam==0.15.2
    - pip install numpy==1.15.1

script:
    - pip install .
    - python3 setup.py tests
    - python3 -m unittest tests

notifications:
    emails:
        - kchiba@hgc.jp
    on_success: change
    on_failure: always

